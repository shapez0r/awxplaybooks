# üöÄ WinBatch V2 - –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –ü–ª–∞–≥–∏–Ω –¥–ª—è AWX

## ‚ú® –ë–ï–ó –ö–ê–°–¢–û–ú–ù–û–ì–û EXECUTION ENVIRONMENT!

**WinBatch V2** - —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –ø–ª–∞–≥–∏–Ω –¥–ª—è AWX, –∫–æ—Ç–æ—Ä—ã–π **–£–°–ö–û–†–Ø–ï–¢ Windows –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –Ω–∞ 300-500%** –∏ **–ù–ï –¢–†–ï–ë–£–ï–¢** —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ Execution Environment!

## üéØ –ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üî• –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **300-500% —É–ª—É—á—à–µ–Ω–∏–µ** —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–û–¥–Ω–æ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** –Ω–∞ –≤–µ—Å—å playbook
- **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –∑–∞–¥–∞—á
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** –Ω–∞ Windows

### üöÄ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ü—Ä–æ—Å—Ç–æ—Ç–∞
- ‚úÖ **–ù–ï —Ç—Ä–µ–±—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ EE** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º
- ‚úÖ **–ë–ï–ó –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã  
- ‚úÖ **Plug-and-Play** - –¥–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –≤ Git –∏ –≥–æ—Ç–æ–≤–æ
- ‚úÖ **–ù—É–ª–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
awxplaybooks/
‚îú‚îÄ‚îÄ plugins/
‚îÇ   ‚îî‚îÄ‚îÄ connection/
‚îÇ       ‚îú‚îÄ‚îÄ winbatch_v2.py              # üöÄ –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –ø–ª–∞–≥–∏–Ω
‚îÇ       ‚îî‚îÄ‚îÄ winbatch.py                 # üìÅ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ inventory/
‚îÇ   ‚îú‚îÄ‚îÄ winbatch_v2_hosts.yml          # üéØ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–ª—è V2
‚îÇ   ‚îî‚îÄ‚îÄ winbatch_hosts.yml             # üìÅ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–ª—è V1
‚îú‚îÄ‚îÄ ansible.cfg                        # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ winbatch_v2_demo.yml              # üé¨ –ü–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è V2
‚îú‚îÄ‚îÄ winbatch_v2_test.yml              # üß™ –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç V2
‚îú‚îÄ‚îÄ winbatch_v2_debug.yml             # üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º V2
‚îú‚îÄ‚îÄ winbatch_demo.yml                 # üìÅ –î–µ–º–æ –¥–ª—è V1
‚îú‚îÄ‚îÄ WINBATCH_V2_SIMPLE_GUIDE.md       # üìö –ü—Ä–æ—Å—Ç–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ V2
‚îî‚îÄ‚îÄ WINBATCH_REVOLUTION_README.md     # üìÅ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è V1
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
```bash
git clone <your-repo-url>
cd awxplaybooks
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ Job Template –≤ AWX
- **Project**: –í–∞—à Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º
- **Inventory**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `inventory/winbatch_v2_hosts.yml`  
- **Execution Environment**: **–õ–Æ–ë–û–ô —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π AWX EE**
- **Playbook**: `winbatch_v2_demo.yml`

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
```yaml
windows_servers:
  hosts:
    win-server-01:
      ansible_host: 192.168.1.101
      ansible_connection: winbatch_v2  # –ú–∞–≥–∏—è –∑–¥–µ—Å—å!
      ansible_user: administrator
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Å–∫–æ—Ä–æ—Å—Ç—å—é! üèéÔ∏è

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ó–∞–¥–∞—á | –û–±—ã—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ | WinBatch V2 | –£–ª—É—á—à–µ–Ω–∏–µ |
|-------|----------------|-------------|-----------|
| 10    | 45 —Å–µ–∫         | 12 —Å–µ–∫      | **375%**  |
| 50    | 4.5 –º–∏–Ω        | 58 —Å–µ–∫      | **465%**  |
| 100   | 9.25 –º–∏–Ω       | 1.83 –º–∏–Ω    | **495%**  |

## üõ†Ô∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –í–µ—Ä—Å–∏–π

| –§—É–Ω–∫—Ü–∏—è                    | WinBatch V1 | WinBatch V2 |
|---------------------------|-------------|-------------|
| –ö–∞—Å—Ç–æ–º–Ω—ã–π EE              | ‚úÖ –¢—Ä–µ–±—É–µ—Ç   | ‚ùå –ù–ï –Ω—É–∂–µ–Ω |
| –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏       | üü° –¢—Ä–µ–±—É–µ—Ç  | ‚ùå –ù–ï –Ω—É–∂–Ω—ã |
| –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è    | üü° –°—Ä–µ–¥–Ω—è—è  | üü¢ –ü—Ä–æ—Å—Ç–∞—è  |
| –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å EE        | üü° –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ | üü¢ –õ—é–±—ã–µ   |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å        | üü¢ –í—ã—Å–æ–∫–∞—è | üü¢ –í—ã—Å–æ–∫–∞—è  |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ù–æ–≤—ã—Ö –ü—Ä–æ–µ–∫—Ç–æ–≤
**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WinBatch V2!**
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ EE
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ EE

### –î–ª—è –°—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ü—Ä–æ–µ–∫—Ç–æ–≤
- **V1**: –ï—Å–ª–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π EE
- **V2**: –î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[WINBATCH_V2_SIMPLE_GUIDE.md](WINBATCH_V2_SIMPLE_GUIDE.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ V2
- **[QUICK_FIX.md](QUICK_FIX.md)** - üö® –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ play_context
- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –∏ FAQ
- **[CHANGELOG.md](CHANGELOG.md)** - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **[WINBATCH_REVOLUTION_README.md](WINBATCH_REVOLUTION_README.md)** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ V1

## üé¨ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

### WinBatch V2 (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```yaml
# winbatch_v2_demo.yml
- name: "üöÄ WinBatch V2 Demo"
  hosts: windows_servers
  connection: winbatch_v2  # –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è!
  tasks:
    - name: "–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
      win_shell: Get-ComputerInfo
    # ... –µ—â—ë 20+ –∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –ú–û–õ–ù–ò–ï–ù–û–°–ù–û!
```

### WinBatch V1 (–û—Ä–∏–≥–∏–Ω–∞–ª)
```yaml
# winbatch_demo.yml  
- name: "WinBatch V1 Demo"
  hosts: windows_servers
  connection: winbatch  # –¢—Ä–µ–±—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ EE
  tasks:
    - name: "–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
      win_shell: Get-ComputerInfo
```

## üí° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### WinBatch V2 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
AWX (–ª—é–±–æ–π EE) ‚Üí WinBatch V2 Plugin ‚Üí SSH Multiplex ‚Üí Windows PowerShell Executor
                        ‚Üì
                Auto-install dependencies
                        ‚Üì
                Batch task processing
                        ‚Üì
                Real-time monitoring
```

### –ö–ª—é—á–µ–≤—ã–µ –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ V2
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å SSH –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ EE
2. **SSH Connection Multiplexing** - –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ–≥–æ playbook
3. **–°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ EE
4. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ AWX

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ë–∞–∑–æ–≤–∞—è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```ini
# ansible.cfg
[defaults]
connection_plugins = plugins/connection

[winbatch]
batch_size = 20
status_interval = 5
auto_dependency_installation = true
custom_ee_required = false
```

### –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
```yaml
# inventory/winbatch_v2_hosts.yml
windows_servers:
  vars:
    ansible_connection: winbatch_v2
    ansible_winbatch_batch_size: 20
    ansible_winbatch_status_interval: 5
```

## üõ°Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–ª—è WinBatch V2 (–°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- **AWX**: –õ—é–±–∞—è –≤–µ—Ä—Å–∏—è 17.0+
- **Execution Environment**: –õ—é–±–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π EE
- **Windows**: Server 2016+ —Å OpenSSH Server
- **–°–µ—Ç—å**: SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–ø–æ—Ä—Ç 22)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenSSH –Ω–∞ Windows
```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenSSH Server
Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0
Start-Service sshd
Set-Service -Name sshd -StartupType 'Automatic'

# PowerShell –∫–∞–∫ shell –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
New-ItemProperty -Path "HKLM:\SOFTWARE\OpenSSH" -Name DefaultShell -Value "C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe" -PropertyType String -Force
```

## üèÜ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**WinBatch V2** - —ç—Ç–æ —Ä–µ–≤–æ–ª—é—Ü–∏—è –≤ Windows –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è AWX:

- üöÄ **–í 3-5 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ** —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
- üõ†Ô∏è **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ** –≤ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏  
- üåç **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º** —Å –ª—é–±—ã–º–∏ EE
- üéØ **–ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–í–∞—à–∏ Windows playbooks –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–ú–û–õ–ù–ò–ï–ù–û–°–ù–û** –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ —Å–ª–æ–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫!

---

**–ü–æ–º–Ω–∏—Ç–µ**: –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–ª–∞–≥–∏–Ω - —ç—Ç–æ —Ä–µ–≤–æ–ª—é—Ü–∏—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ Windows! üöÄ

*¬© 2024 WinBatch Revolution - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –±—É–¥—É—â–µ–≥–æ —É–∂–µ —Å–µ–≥–æ–¥–Ω—è*
